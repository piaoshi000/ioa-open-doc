## 1. 接口描述
接口名：NoticeApprovalResult

调用方：第三方协议转换服务

被调方：iOA服务

用途：审批结果通知

## 2. 输入参数

| **参数名** |  **类型** |  **是否必选**| **描述** | **示例**
| ------ | ------ | ------ |------ |------ |
| MsgType | string |是|消息类型，当前只需要最后的审批结果，中间结果暂时无需通知|FINISH
| TaskID | string |是|iOA审批单号|
| ThirdNo | string |是|第三方单号|
| Approver | [UserInfo](/第三方对接/审批/数据结构.md#UserInfo) | 是|审批人 |
| Result | string |是| 审批结果 | agree/reject

## 3. 输出参数
| **参数名** |  **类型** |  **是否必选**| **描述**
| ------ | ------ | ------ |------ |
| RequestId | String | 是 | ID，由被调方生成，每次请求都会返回（若请求因其他原因未能抵达服务端，则该次请求不会获得 RequestId）。定位问题时需要提供该次请求的 RequestId。|

## 4. 示例
#### 输入示例

```
POST / HTTP/1.1
Content-Type: application/json
X-Tc-Action: CreateApprovalRespData
X-Tc-Version: 2022-06-01
X-Tc-Timestamp: 1761214506
Authorization: *******
{
    "MsgType": "FINISH",
    "TaskID": "20250916203001abcdefgh",
    "ThirdNo": "2025091620300100123",
    "Approver": {
        "UserID": "bruce",
        "UserName": "王一"
    },
    "Result": "agree"
}
```
#### 输出示例
成功
``` 
{
    "Response": {
        "RequestId": "69cc6953-259a-4414-9a86-172744f3032a"
    }
}
```

失败
``` 
{
    "Response": {
        "Error": {
            "Code": "AuthFailure.SignatureFailure",
            "Message": "The provided credentials could not be validated. Please check your signature is correct."
        },
        "RequestId": "ed93f3cb-f35e-473f-b9f3-0d451b8b79c6"
    }
}
```
## 5 错误码
| Code | 解释 |
| ------ | ------ |
| InvalidParameter.TaskID | iOA审批号不存在 |
| AuthFailure.SignatureFailure | 签名错误 |
| InvalidParameter.RequestParam| 参数错误 |
| InternalError.DatabaseException | 数据库异常 |
| InternalError.Unknown | 内部错误 | 